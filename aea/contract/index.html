<!DOCTYPE html>
<html lang="en" class=''>

<head>
    <meta charset="utf-8">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Contracts - Fetch.ai Developer Documentation</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="description" content="Everything you need to know about Fetch.ai.">
    <meta name="generator" content="mkdocs-1.1.2, mkdocs-">
    
    <meta name="author" content="developer@fetch.ai">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta rel="next" href="" />
    <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>var base_url = '../..';</script>
    <link href="../../css/style.min.css" rel="stylesheet">
    <link href="../../css/my-styles.css" rel="stylesheet">
    <link href="../../css/default.css" rel="stylesheet">
    <link href="../../css/dropdown-style.css" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/392c70381a.js" crossorigin="anonymous" SameSite="None" Secure></script>
</head>

<body>
    <div id="page-container">
        <div id="content-wrap">

            <div id="mkdocs-search-wrapper">
                <div class="search-results-container">
                    <header>Search results: <input type="text" id="search-text-copy" />
                        <button id="closeSearchResults">&times;</button>
                    </header>
                    <div id="mkdocs-search-results" class="search-popup">
                        Sorry, page not found.
                    </div><!-- #mkdocs-search-results end -->
                </div><!-- .search-results-container -->
            </div><!-- #mkdocs-search-wrapper end -->

            <header>
                <button id='hamburger'><i class="fas fa-bars"></i><i class="fas fa-times"></i></button>
                <div class="corset">
                    <a href="https://fetch.ai" target="_blank">
                        <img src="../../assets/images/fetchai_logo_align_white.svg" alt="Fetch Logo" class="logo">
                    </a>
                    <nav class="menu">
                        <ul>
<!--                             <li><a href="https://developer.fetch.ai/Bounty">Bounty</a></li> -->
                            <li><a href="https://explore.fetch.ai">Explorer</a></li>
<!--                             <li><a href="https://testnet-wallet.fetch.ai/">Testnet wallet</a></li> -->
                            <li><a href="https://aea-registry.fetch.ai">AEA Registry</a></li>
                            <li><a href="https://discord.gg/UDzpBFa">Support</a></li>
                        </ul>
                    </nav>
                </div><!-- .corset -->
            </header>
            <div class="book md-typeset">
                <div id="book-search-input" role="search">
                    <form action="search.html" id="searchForm">
                        <input name="q" id="mkdocs-search-query" type="text" placeholder="Type to search">
                    </form>
                </div> <!-- #book-search-input end -->

                <div class="book-summary not-loaded">
                    <div>

                        <nav role="navigation" id="nav">
    <ul class="summary" id="summary"> 
<li>
    <a href="../.." id=""
        >Home</a
    >
</li>
 
<li>
    <span class="head">Agent Framework</span>
    <ul id="header_agent_framework"> 
<li>
    <a href="../" id="aea-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../version/" id="aea-version-"
        >Version</a
    >
</li>
 
<li>
    <span class="head">Concepts</span>
    <ul id="header_concepts"> 
<li>
    <a href="../language-agnostic-definition/" id="aea-language-agnostic-definition-"
        >Language Agnostic Definition</a
    >
</li>
 
<li>
    <a href="../agent-oriented-development/" id="aea-agent-oriented-development-"
        >Agent-oriented development</a
    >
</li>
 
<li>
    <a href="../vision/" id="aea-vision-"
        >Vision</a
    >
</li>
 
<li>
    <a href="../app-areas/" id="aea-app-areas-"
        >Application areas</a
    >
</li>
 
<li>
    <a href="../oef-ledger/" id="aea-oef-ledger-"
        >Relation to OEF and Ledger</a
    >
</li>
 
<li>
    <a href="../identity/" id="aea-identity-"
        >Identity</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Demos</span>
    <ul id="header_demos"> 
<li>
    <a href="../demos/" id="aea-demos-"
        >Demos</a
    >
</li>
 
<li>
    <a href="../aries-cloud-agent-demo/" id="aea-aries-cloud-agent-demo-"
        >Aries Cloud Agents Demo</a
    >
</li>
 
<li>
    <a href="../car-park-skills/" id="aea-car-park-skills-"
        >Car park skills</a
    >
</li>
 
<li>
    <a href="../gym-example/" id="aea-gym-example-"
        >Gym example</a
    >
</li>
 
<li>
    <a href="../gym-skill/" id="aea-gym-skill-"
        >Gym skill</a
    >
</li>
 
<li>
    <a href="../ml-skills/" id="aea-ml-skills-"
        >ML skills</a
    >
</li>
 
<li>
    <a href="../tac-skills/" id="aea-tac-skills-"
        >TAC skills</a
    >
</li>
 
<li>
    <a href="../tac-skills-contract/" id="aea-tac-skills-contract-"
        >TAC skills ledger-based</a
    >
</li>
 
<li>
    <a href="../tac/" id="aea-tac-"
        >TAC external app</a
    >
</li>
 
<li>
    <a href="../thermometer-skills/" id="aea-thermometer-skills-"
        >Thermometer skills</a
    >
</li>
 
<li>
    <a href="../weather-skills/" id="aea-weather-skills-"
        >Weather skills</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Development</span>
    <ul id="header_development"> 
<li>
    <span class="head">Getting started</span>
    <ul id="header_getting_started"> 
<li>
    <a href="../quickstart/" id="aea-quickstart-"
        >AEA quick start</a
    >
</li>
 
<li>
    <a href="../core-components-1/" id="aea-core-components-1-"
        >Core components - Part 1</a
    >
</li>
 
<li>
    <a href="../aea-vs-mvc/" id="aea-aea-vs-mvc-"
        >AEA and web frameworks</a
    >
</li>
 
<li>
    <a href="../skill-guide/" id="aea-skill-guide-"
        >Build a skill for an AEA</a
    >
</li>
 
<li>
    <a href="../core-components-2/" id="aea-core-components-2-"
        >Core components - Part 2</a
    >
</li>
 
<li>
    <a href="../generic-skills-step-by-step/" id="aea-generic-skills-step-by-step-"
        >Trade between two AEAs</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Topic guides</span>
    <ul id="header_topic_guides"> 
<li>
    <a href="../step-one/" id="aea-step-one-"
        >Ways to build an AEA</a
    >
</li>
 
<li>
    <a href="../development-setup/" id="aea-development-setup-"
        >Development setup</a
    >
</li>
 
<li>
    <a href="../build-aea-step-by-step/" id="aea-build-aea-step-by-step-"
        >Build an AEA with the CLI</a
    >
</li>
 
<li>
    <a href="../scaffolding/" id="aea-scaffolding-"
        >Scaffolding packages</a
    >
</li>
 
<li>
    <a href="../protocol-generator/" id="aea-protocol-generator-"
        >Generating protocols</a
    >
</li>
 
<li>
    <a href="../logging/" id="aea-logging-"
        >Logging</a
    >
</li>
 
<li>
    <a href="../multiplexer-standalone/" id="aea-multiplexer-standalone-"
        >Use multiplexer stand-alone</a
    >
</li>
 
<li>
    <a href="../standalone-transaction/" id="aea-standalone-transaction-"
        >Create stand-alone transaction</a
    >
</li>
 
<li>
    <a href="../decision-maker-transaction/" id="aea-decision-maker-transaction-"
        >Create decision-maker transaction</a
    >
</li>
 
<li>
    <a href="../skill-testing/" id="aea-skill-testing-"
        >Testing Skills</a
    >
</li>
 
<li>
    <a href="../deployment/" id="aea-deployment-"
        >Deployment</a
    >
</li>
 
<li>
    <a href="../known-limits/" id="aea-known-limits-"
        >Known limitations</a
    >
</li>
 
<li>
    <a href="../build-aea-programmatically/" id="aea-build-aea-programmatically-"
        >Build an AEA programmatically</a
    >
</li>
 
<li>
    <a href="../cli-vs-programmatic-aeas/" id="aea-cli-vs-programmatic-aeas-"
        >CLI vs programmatic AEAs</a
    >
</li>
 
<li>
    <a href="../agent-vs-aea/" id="aea-agent-vs-aea-"
        >AEAs vs agents</a
    >
</li>
 
<li>
    <a href="../upgrading/" id="aea-upgrading-"
        >Upgrading versions</a
    >
</li>
 
<li>
    <a href="../modes/" id="aea-modes-"
        >Modes of running an AEA</a
    >
</li>
 
<li>
    <a href="../multi-agent-manager/" id="aea-multi-agent-manager-"
        >Multi agent manager</a
    >
</li>
 
<li>
    <a href="../debug/" id="aea-debug-"
        >Debugging</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Use case components</span>
    <ul id="header_use_case_components"> 
<li>
    <a href="../generic-skills/" id="aea-generic-skills-"
        >Generic skills</a
    >
</li>
 
<li>
    <a href="../connect-a-frontend/" id="aea-connect-a-frontend-"
        >Front-end intergration</a
    >
</li>
 
<li>
    <a href="../http-connection-and-skill/" id="aea-http-connection-and-skill-"
        >HTTP Connection</a
    >
</li>
 
<li>
    <a href="../orm-integration/" id="aea-orm-integration-"
        >ORM integration</a
    >
</li>
 
<li>
    <a href="../erc1155-skills/" id="aea-erc1155-skills-"
        >Contract deploy and interact</a
    >
</li>
 
<li>
    <a href="../p2p-connection/" id="aea-p2p-connection-"
        >P2P Connection</a
    >
</li>
 
<li>
    <a href="../raspberry-set-up/" id="aea-raspberry-set-up-"
        >Build an AEA on a Raspberry Pi</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Architecture & component deep-dives</span>
    <ul id="header_architecture_%26_component_deep-dives"> 
<li>
    <a href="../design-principles/" id="aea-design-principles-"
        >Design principles</a
    >
</li>
 
<li>
    <a href="../diagram/" id="aea-diagram-"
        >Architectural diagram</a
    >
</li>
 
<li>
    <a href="../connection/" id="aea-connection-"
        >Connections</a
    >
</li>
 
<li>
    <a href="../protocol/" id="aea-protocol-"
        >Protocols</a
    >
</li>
 
<li>
    <a href="../skill/" id="aea-skill-"
        >Skills</a
    >
</li>
 
<li>
    <a href="./" id="aea-contract-"
        >Contracts</a
    >
</li>
 
<li>
    <a href="../decision-maker/" id="aea-decision-maker-"
        >Decision Maker</a
    >
</li>
 
<li>
    <a href="../ledger-integration/" id="aea-ledger-integration-"
        >Ledger & Crypto APIs</a
    >
</li>
 
<li>
    <a href="../message-routing/" id="aea-message-routing-"
        >Message routing</a
    >
</li>
 
<li>
    <a href="../config/" id="aea-config-"
        >Configurations</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Agent Communication</span>
    <ul id="header_agent_communication"> 
<li>
    <a href="../acn/" id="aea-acn-"
        >Agent Communication Network</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Search & Discovery</span>
    <ul id="header_search_%26_discovery"> 
<li>
    <a href="../defining-data-models/" id="aea-defining-data-models-"
        >Defining Data Models</a
    >
</li>
 
<li>
    <a href="../query-language/" id="aea-query-language-"
        >The Query Language</a
    >
</li>
 
<li>
    <a href="../simple-oef-usage/" id="aea-simple-oef-usage-"
        >SOEF Connection</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Developer Interfaces</span>
    <ul id="header_developer_interfaces"> 
<li>
    <span class="head">CLI</span>
    <ul id="header_cli"> 
<li>
    <a href="../cli-how-to/" id="aea-cli-how-to-"
        >Installation</a
    >
</li>
 
<li>
    <a href="../cli-commands/" id="aea-cli-commands-"
        >Commands</a
    >
</li>
 
<li>
    <a href="../package-imports/" id="aea-package-imports-"
        >File structure</a
    >
</li>
 
<li>
    <a href="../wealth/" id="aea-wealth-"
        >Generating wealth</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../cli-gui/" id="aea-cli-gui-"
        >GUI</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Benchmarks</span>
    <ul id="header_benchmarks"> 
<li>
    <a href="../performance-benchmark/" id="aea-performance-benchmark-"
        >Performance benchmark</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">API</span>
    <ul id="header_api"> 
<li>
    <a href="../api/abstract_agent/" id="aea-api-abstract_agent-"
        >AbstractAgent</a
    >
</li>
 
<li>
    <a href="../api/aea/" id="aea-api-aea-"
        >AEA</a
    >
</li>
 
<li>
    <a href="../api/aea_builder/" id="aea-api-aea_builder-"
        >AEA Builder</a
    >
</li>
 
<li>
    <a href="../api/agent/" id="aea-api-agent-"
        >Agent</a
    >
</li>
 
<li>
    <a href="../api/agent_loop/" id="aea-api-agent_loop-"
        >Agent Loop</a
    >
</li>
 
<li>
    <a href="../api/common/" id="aea-api-common-"
        >Common</a
    >
</li>
 
<li>
    <a href="../api/exceptions/" id="aea-api-exceptions-"
        >Exceptions</a
    >
</li>
 
<li>
    <a href="../api/launcher/" id="aea-api-launcher-"
        >Launcher</a
    >
</li>
 
<li>
    <a href="../api/manager/" id="aea-api-manager-"
        >Manager</a
    >
</li>
 
<li>
    <a href="../api/multiplexer/" id="aea-api-multiplexer-"
        >Multiplexer</a
    >
</li>
 
<li>
    <a href="../api/runner/" id="aea-api-runner-"
        >Runner</a
    >
</li>
 
<li>
    <a href="../api/runtime/" id="aea-api-runtime-"
        >Runtime</a
    >
</li>
 
<li>
    <span class="head">Components</span>
    <ul id="header_components"> 
<li>
    <a href="../api/components/base/" id="aea-api-components-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/components/loader/" id="aea-api-components-loader-"
        >Loader</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Configurations</span>
    <ul id="header_configurations"> 
<li>
    <a href="../api/configurations/base/" id="aea-api-configurations-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/configurations/constants/" id="aea-api-configurations-constants-"
        >Constants</a
    >
</li>
 
<li>
    <a href="../api/configurations/loader/" id="aea-api-configurations-loader-"
        >Loader</a
    >
</li>
 
<li>
    <a href="../api/configurations/project/" id="aea-api-configurations-project-"
        >Project</a
    >
</li>
 
<li>
    <a href="../api/configurations/pypi/" id="aea-api-configurations-pypi-"
        >Pypi</a
    >
</li>
 
<li>
    <a href="../api/configurations/utils/" id="aea-api-configurations-utils-"
        >Utils</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Connections</span>
    <ul id="header_connections"> 
<li>
    <a href="../api/connections/base/" id="aea-api-connections-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/connections/stub/connection/" id="aea-api-connections-stub-connection-"
        >Stub Connection</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/context/base/" id="aea-api-context-base-"
        >Context</a
    >
</li>
 
<li>
    <span class="head">Contracts</span>
    <ul id="header_contracts"> 
<li>
    <a href="../api/contracts/base/" id="aea-api-contracts-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Crypto</span>
    <ul id="header_crypto"> 
<li>
    <a href="../api/crypto/base/" id="aea-api-crypto-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/crypto/cosmos/" id="aea-api-crypto-cosmos-"
        >Cosmos</a
    >
</li>
 
<li>
    <a href="../api/crypto/ethereum/" id="aea-api-crypto-ethereum-"
        >Ethereum</a
    >
</li>
 
<li>
    <a href="../api/crypto/fetchai/" id="aea-api-crypto-fetchai-"
        >Fetchai</a
    >
</li>
 
<li>
    <a href="../api/crypto/helpers/" id="aea-api-crypto-helpers-"
        >Helpers</a
    >
</li>
 
<li>
    <a href="../api/crypto/ledger_apis/" id="aea-api-crypto-ledger_apis-"
        >LedgerApis</a
    >
</li>
 
<li>
    <a href="../api/crypto/wallet/" id="aea-api-crypto-wallet-"
        >Wallet</a
    >
</li>
 
<li>
    <span class="head">Registries</span>
    <ul id="header_registries"> 
<li>
    <a href="../api/crypto/registries/base/" id="aea-api-crypto-registries-base-"
        >Base</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Decision Maker</span>
    <ul id="header_decision_maker"> 
<li>
    <a href="../api/decision_maker/base/" id="aea-api-decision_maker-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/decision_maker/default/" id="aea-api-decision_maker-default-"
        >Default</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Helpers</span>
    <ul id="header_helpers"> 
<li>
    <a href="../api/helpers/async_friendly_queue/" id="aea-api-helpers-async_friendly_queue-"
        >Async Friendly Queue</a
    >
</li>
 
<li>
    <a href="../api/helpers/async_utils/" id="aea-api-helpers-async_utils-"
        >Async Utils</a
    >
</li>
 
<li>
    <a href="../api/helpers/base/" id="aea-api-helpers-base-"
        >Base</a
    >
</li>
 
<li>
    <span class="head">Dialogue</span>
    <ul id="header_dialogue"> 
<li>
    <a href="../api/helpers/dialogue/base/" id="aea-api-helpers-dialogue-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/exception_policy/" id="aea-api-helpers-exception_policy-"
        >Exception Policy</a
    >
</li>
 
<li>
    <a href="../api/helpers/exec_timeout/" id="aea-api-helpers-exec_timeout-"
        >Exec Timeout</a
    >
</li>
 
<li>
    <a href="../api/helpers/file_io/" id="aea-api-helpers-file_io-"
        >File IO</a
    >
</li>
 
<li>
    <a href="../api/helpers/file_lock/" id="aea-api-helpers-file_lock-"
        >File Lock</a
    >
</li>
 
<li>
    <a href="../api/helpers/install_dependency/" id="aea-api-helpers-install_dependency-"
        >Install Dependencies</a
    >
</li>
 
<li>
    <span class="head">IPFS</span>
    <ul id="header_ipfs"> 
<li>
    <a href="../api/helpers/ipfs/base/" id="aea-api-helpers-ipfs-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/logging/" id="aea-api-helpers-logging-"
        >Logging</a
    >
</li>
 
<li>
    <span class="head">MultiAddress</span>
    <ul id="header_multiaddress"> 
<li>
    <a href="../api/helpers/multiaddr/base/" id="aea-api-helpers-multiaddr-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/multiple_executor/" id="aea-api-helpers-multiple_executor-"
        >MultipleExecutor</a
    >
</li>
 
<li>
    <a href="../api/helpers/pipe/" id="aea-api-helpers-pipe-"
        >Pipe</a
    >
</li>
 
<li>
    <span class="head">Preferences</span>
    <ul id="header_preferences"> 
<li>
    <a href="../api/helpers/preference_representations/base/" id="aea-api-helpers-preference_representations-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/profiling/" id="aea-api-helpers-profiling-"
        >Profiling</a
    >
</li>
 
<li>
    <span class="head">Search</span>
    <ul id="header_search"> 
<li>
    <a href="../api/helpers/search/generic/" id="aea-api-helpers-search-generic-"
        >Generic</a
    >
</li>
 
<li>
    <a href="../api/helpers/search/models/" id="aea-api-helpers-search-models-"
        >Models</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/sym_link/" id="aea-api-helpers-sym_link-"
        >Sym Link</a
    >
</li>
 
<li>
    <a href="../api/helpers/temp_error_handler/" id="aea-api-helpers-temp_error_handler-"
        >Temp Error Handler</a
    >
</li>
 
<li>
    <span class="head">Transaction</span>
    <ul id="header_transaction"> 
<li>
    <a href="../api/helpers/transaction/base/" id="aea-api-helpers-transaction-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/win32/" id="aea-api-helpers-win32-"
        >Win32</a
    >
</li>
 
<li>
    <a href="../api/helpers/yaml_utils/" id="aea-api-helpers-yaml_utils-"
        >YamlUtils</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/identity/base/" id="aea-api-identity-base-"
        >Identity</a
    >
</li>
 
<li>
    <a href="../api/mail/base/" id="aea-api-mail-base-"
        >Mail</a
    >
</li>
 
<li>
    <span class="head">Protocols</span>
    <ul id="header_protocols"> 
<li>
    <a href="../api/protocols/base/" id="aea-api-protocols-base-"
        >Base</a
    >
</li>
 
<li>
    <span class="head">Generator</span>
    <ul id="header_generator"> 
<li>
    <a href="../api/protocols/generator/base/" id="aea-api-protocols-generator-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/protocols/generator/common/" id="aea-api-protocols-generator-common-"
        >Common</a
    >
</li>
 
<li>
    <a href="../api/protocols/generator/extract_specification/" id="aea-api-protocols-generator-extract_specification-"
        >Extract Specification</a
    >
</li>
 
<li>
    <a href="../api/protocols/generator/validate/" id="aea-api-protocols-generator-validate-"
        >Validate</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Default Protocol</span>
    <ul id="header_default_protocol"> 
<li>
    <a href="../api/protocols/default/custom_types/" id="aea-api-protocols-default-custom_types-"
        >Custom Types</a
    >
</li>
 
<li>
    <a href="../api/protocols/default/dialogues/" id="aea-api-protocols-default-dialogues-"
        >Dialogues</a
    >
</li>
 
<li>
    <a href="../api/protocols/default/message/" id="aea-api-protocols-default-message-"
        >Message</a
    >
</li>
 
<li>
    <a href="../api/protocols/default/serialization/" id="aea-api-protocols-default-serialization-"
        >Serialization</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Signing Protocol</span>
    <ul id="header_signing_protocol"> 
<li>
    <a href="../api/protocols/signing/custom_types/" id="aea-api-protocols-signing-custom_types-"
        >Custom Types</a
    >
</li>
 
<li>
    <a href="../api/protocols/signing/dialogues/" id="aea-api-protocols-signing-dialogues-"
        >Dialogues</a
    >
</li>
 
<li>
    <a href="../api/protocols/signing/message/" id="aea-api-protocols-signing-message-"
        >Message</a
    >
</li>
 
<li>
    <a href="../api/protocols/signing/serialization/" id="aea-api-protocols-signing-serialization-"
        >Serialization</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">State Update Protocol</span>
    <ul id="header_state_update_protocol"> 
<li>
    <a href="../api/protocols/state_update/dialogues/" id="aea-api-protocols-state_update-dialogues-"
        >Dialogues</a
    >
</li>
 
<li>
    <a href="../api/protocols/state_update/message/" id="aea-api-protocols-state_update-message-"
        >Message</a
    >
</li>
 
<li>
    <a href="../api/protocols/state_update/serialization/" id="aea-api-protocols-state_update-serialization-"
        >Serialization</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Registries</span>
    <ul id="header_registries"> 
<li>
    <a href="../api/registries/base/" id="aea-api-registries-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/registries/filter/" id="aea-api-registries-filter-"
        >Filter</a
    >
</li>
 
<li>
    <a href="../api/registries/resources/" id="aea-api-registries-resources-"
        >Resources</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Skills</span>
    <ul id="header_skills"> 
<li>
    <a href="../api/skills/base/" id="aea-api-skills-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/skills/error/handlers/" id="aea-api-skills-error-handlers-"
        >Error Skill</a
    >
</li>
 
<li>
    <a href="../api/skills/behaviours/" id="aea-api-skills-behaviours-"
        >Behaviors</a
    >
</li>
 
<li>
    <a href="../api/skills/tasks/" id="aea-api-skills-tasks-"
        >Task</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Test Tools</span>
    <ul id="header_test_tools"> 
<li>
    <a href="../api/test_tools/generic/" id="aea-api-test_tools-generic-"
        >Generic</a
    >
</li>
 
<li>
    <a href="../api/test_tools/test_cases/" id="aea-api-test_tools-test_cases-"
        >Test Cases</a
    >
</li>
 
<li>
    <a href="../api/test_tools/test_skill/" id="aea-api-test_tools-test_skill-"
        >Test Skill</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <a href="../glossary/" id="aea-glossary-"
        >Glossary</a
    >
</li>
 
<li>
    <a href="../questions-and-answers/" id="aea-questions-and-answers-"
        >Q&A</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../simple-oef/" id="aea-simple-oef-"
        >Simple OEF</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Ledger</span>
    <ul id="header_ledger"> 
<li>
    <a href="../../ledger/" id="ledger-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Ledger v2</span>
    <ul id="header_ledger_v2"> 
<li>
    <a href="../../ledger_v2/" id="ledger_v2-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Commandline Client</span>
    <ul id="header_commandline_client"> 
<li>
    <a href="../../ledger_v2/cli-introduction/" id="ledger_v2-cli-introduction-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger_v2/cli-keys/" id="ledger_v2-cli-keys-"
        >Keys</a
    >
</li>
 
<li>
    <a href="../../ledger_v2/cli-tokens/" id="ledger_v2-cli-tokens-"
        >Tokens</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger_v2/block-explorer/" id="ledger_v2-block-explorer-"
        >Block Explorer</a
    >
</li>
 
<li>
    <a href="../../ledger_v2/building/" id="ledger_v2-building-"
        >Installation</a
    >
</li>
 
<li>
    <a href="../../ledger_v2/networks/" id="ledger_v2-networks-"
        >Networks</a
    >
</li>
 
<li>
    <a href="../../ledger_v2/python-examples/" id="ledger_v2-python-examples-"
        >Python Examples</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Ledger v1</span>
    <ul id="header_ledger_v1"> 
<li>
    <a href="../../ledger_v1/" id="ledger_v1-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Using the ledger</span>
    <ul id="header_using_the_ledger"> 
<li>
    <a href="../../ledger_v1/walkthrough/" id="ledger_v1-walkthrough-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/walkthrough/creating-addresses/" id="ledger_v1-walkthrough-creating-addresses-"
        >Creating addresses</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/walkthrough/testnet-tokens/" id="ledger_v1-walkthrough-testnet-tokens-"
        >Getting testnet tokens</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/walkthrough/transfers-and-balances/" id="ledger_v1-walkthrough-transfers-and-balances-"
        >Making transfers</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/walkthrough/smart-contracts/" id="ledger_v1-walkthrough-smart-contracts-"
        >Deploying smart contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Smart Contracts</span>
    <ul id="header_smart_contracts"> 
<li>
    <a href="../../ledger_v1/smart-contracts/smart-contract-intro/" id="ledger_v1-smart-contracts-smart-contract-intro-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/smart-contracts/static-dynamic/" id="ledger_v1-smart-contracts-static-dynamic-"
        >Static and dynamic contracts</a
    >
</li>
 
<li>
    <span class="head">Fetch.ai smart contracts</span>
    <ul id="header_fetch.ai_smart_contracts"> 
<li>
    <a href="../../ledger_v1/smart-contracts/etch-smart-contracts/" id="ledger_v1-smart-contracts-etch-smart-contracts-"
        >Smart contracts in Etch</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/smart-contracts/pipenv/" id="ledger_v1-smart-contracts-pipenv-"
        >Development environment</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/smart-contracts/executing-smart-contract-code/" id="ledger_v1-smart-contracts-executing-smart-contract-code-"
        >Executing smart contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Synergetic contracts</span>
    <ul id="header_synergetic_contracts"> 
<li>
    <a href="../../ledger_v1/smart-contracts/synergetic/" id="ledger_v1-smart-contracts-synergetic-"
        >Synergetic contracts</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/smart-contracts/executing-synergetic-code/" id="ledger_v1-smart-contracts-executing-synergetic-code-"
        >Executing synergetic contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger_v1/smart-contracts/memory/" id="ledger_v1-smart-contracts-memory-"
        >Memory</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/smart-contracts/fees/" id="ledger_v1-smart-contracts-fees-"
        >Fees</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Machine Learning library</span>
    <ul id="header_machine_learning_library"> 
<li>
    <a href="../../ledger_v1/machine-learning/" id="ledger_v1-machine-learning-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/machine-learning/library-architecture/" id="ledger_v1-machine-learning-library-architecture-"
        >Architecture</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/machine-learning/getting-started/" id="ledger_v1-machine-learning-getting-started-"
        >Getting started</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/machine-learning/smart-contract-example/" id="ledger_v1-machine-learning-smart-contract-example-"
        >AI in smart contracts</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/machine-learning/synergetic-contract-example/" id="ledger_v1-machine-learning-synergetic-contract-example-"
        >AI in synergetic contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger_v1/maths-lib-overview/" id="ledger_v1-maths-lib-overview-"
        >Maths library</a
    >
</li>
 
<li>
    <span class="head">Python API</span>
    <ul id="header_python_api"> 
<li>
    <a href="../../ledger_v1/python-ledger-api/python-api-install/" id="ledger_v1-python-ledger-api-python-api-install-"
        >Installation</a
    >
</li>
 
<li>
    <span class="head">Examples</span>
    <ul id="header_examples"> 
<li>
    <a href="../../ledger_v1/python-ledger-api/examples/block-number/" id="ledger_v1-python-ledger-api-examples-block-number-"
        >Block Number</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Etch Language</span>
    <ul id="header_etch_language"> 
<li>
    <a href="../../ledger_v1/etch-language/" id="ledger_v1-etch-language-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Usage</span>
    <ul id="header_usage"> 
<li>
    <a href="../../ledger_v1/etch-language/getstarted/" id="ledger_v1-etch-language-getstarted-"
        >Getting started</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/debug/" id="ledger_v1-etch-language-debug-"
        >Debugging</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">The Basics</span>
    <ul id="header_the_basics"> 
<li>
    <a href="../../ledger_v1/etch-language/syntax/" id="ledger_v1-etch-language-syntax-"
        >Syntax</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/variables/" id="ledger_v1-etch-language-variables-"
        >Variables</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/operators/" id="ledger_v1-etch-language-operators-"
        >Operators</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/logic/" id="ledger_v1-etch-language-logic-"
        >Logical operators</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/control-flow/" id="ledger_v1-etch-language-control-flow-"
        >Control flow</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/strings/" id="ledger_v1-etch-language-strings-"
        >Strings</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/arrays/" id="ledger_v1-etch-language-arrays-"
        >Arrays</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/functions/" id="ledger_v1-etch-language-functions-"
        >Functions</a
    >
</li>
 
<li>
    <span class="head">Function Annotations</span>
    <ul id="header_function_annotations"> 
<li>
    <a href="../../ledger_v1/etch-language/sc-annotations/" id="ledger_v1-etch-language-sc-annotations-"
        >Smart contract annotations</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/syn-annotations/" id="ledger_v1-etch-language-syn-annotations-"
        >Synergetic contract annotations</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger_v1/etch-language/error-checking/" id="ledger_v1-etch-language-error-checking-"
        >Error checking</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Fetch Ledger Types</span>
    <ul id="header_fetch_ledger_types"> 
<li>
    <a href="../../ledger_v1/etch-language/persistent-globals/" id="ledger_v1-etch-language-persistent-globals-"
        >Persistent globals</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/states/" id="ledger_v1-etch-language-states-"
        >State</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/sharded-state/" id="ledger_v1-etch-language-sharded-state-"
        >ShardedState</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/addresses/" id="ledger_v1-etch-language-addresses-"
        >Address</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/crypto/" id="ledger_v1-etch-language-crypto-"
        >Cryptographic functions</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/context/" id="ledger_v1-etch-language-context-"
        >Context</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/transaction/" id="ledger_v1-etch-language-transaction-"
        >Transaction</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/balance-transfer/" id="ledger_v1-etch-language-balance-transfer-"
        >Balance and Transfer</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Mathematics</span>
    <ul id="header_mathematics"> 
<li>
    <a href="../../ledger_v1/etch-language/maths-functions/" id="ledger_v1-etch-language-maths-functions-"
        >Maths functions</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/tensor/" id="ledger_v1-etch-language-tensor-"
        >Tensor</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Machine Learning</span>
    <ul id="header_machine_learning"> 
<li>
    <a href="../../ledger_v1/etch-language/model/" id="ledger_v1-etch-language-model-"
        >Model</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/graph/" id="ledger_v1-etch-language-graph-"
        >Graph</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/data-loaders/" id="ledger_v1-etch-language-data-loaders-"
        >DataLoader</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/optimiser/" id="ledger_v1-etch-language-optimiser-"
        >Optimiser</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/scaler/" id="ledger_v1-etch-language-scaler-"
        >Scaler</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Examples</span>
    <ul id="header_examples"> 
<li>
    <a href="../../ledger_v1/etch-language/examples/fetch-logo/" id="ledger_v1-etch-language-examples-fetch-logo-"
        >Fetch logo</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/examples/mandelbrot/" id="ledger_v1-etch-language-examples-mandelbrot-"
        >Mandelbrot</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/examples/searching-algorithms/" id="ledger_v1-etch-language-examples-searching-algorithms-"
        >Searching algorithms</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/examples/sorting-algorithms/" id="ledger_v1-etch-language-examples-sorting-algorithms-"
        >Sorting algorithms</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/etch-language/examples/dft/" id="ledger_v1-etch-language-examples-dft-"
        >Discrete Fourier Transformation</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Deploying nodes</span>
    <ul id="header_deploying_nodes"> 
<li>
    <span class="head">Building the code</span>
    <ul id="header_building_the_code"> 
<li>
    <a href="../../ledger_v1/installation/installation-mac/" id="ledger_v1-installation-installation-mac-"
        >MacOS</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/installation/installation-ubuntu/" id="ledger_v1-installation-installation-ubuntu-"
        >Ubuntu</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/installation/installation-redhat/" id="ledger_v1-installation-installation-redhat-"
        >Redhat</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger_v1/running-a-constellation/" id="ledger_v1-running-a-constellation-"
        >Running a node</a
    >
</li>
 
<li>
    <a href="../../ledger_v1/architecture/" id="ledger_v1-architecture-"
        >Architecture</a
    >
</li>

    </ul>
</li>
    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Incentivized Testnets</span>
    <ul id="header_incentivized_testnets"> 
<li>
    <a href="../../i_nets/" id="i_nets-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../i_nets/quickstart-aw1/" id="i_nets-quickstart-aw1-"
        >Agent World 1</a
    >
</li>
 
<li>
    <a href="../../i_nets/quickstart-aw2/" id="i_nets-quickstart-aw2-"
        >Agent World 2</a
    >
</li>
 
<li>
    <a href="../../i_nets/quickstart-aw3/" id="i_nets-quickstart-aw3-"
        >Agent World 3</a
    >
</li>

    </ul>
</li> 
    </ul>
</nav>
                    </div>
                </div> <!-- .book-summary end -->

                <div class="book-body">
                    <div class="body-inner" id="book-body">

                        <div class="page-wrapper" tabindex="-1" role="main">
                            <div class="page-inner" id="book-body-inner">

                                <section class="normal markdown-section p17">

                                    

<p><a href="../api/contracts/base#contract-objects"><code>Contracts</code></a> wrap smart contracts for Fetch.ai and third-party decentralized ledgers. In particular, they provide wrappers around the API or ABI of a smart contract and its byte code. They implement a translation between framework messages (in the <code>fetchai/contract_api:0.8.0</code> protocol) and the implementation specifics of the ABI.</p>
<p>Contracts usually implement four types of methods:</p>
<ul>
<li>a method to create a smart contract deployment transaction,</li>
<li>methods to create transactions to modify state in the deployed smart contract,</li>
<li>methods to create contract calls to execute static methods on the deployed smart contract, and</li>
<li>methods to query the state of the deployed smart contract.</li>
</ul>
<p>Contracts can be added as packages which means they become reusable across AEA projects.</p>
<p>The smart contract wrapped in a AEA contract package might be a third-party smart contract or your own smart contract potentially interacting with a third-party contract on-chain.</p>
<h2 id="interacting-with-contracts-from-skills">Interacting with contracts from skills</h2>
<p>Interacting with contracts in almost all cases requires network access. Therefore, the framework executes contract related logic in a <a href="../connection">Connection</a>.</p>
<p>In particular, the <code>fetchai/ledger:0.9.0</code> connection can be used to execute contract related logic. The skills communicate with the <code>fetchai/ledger:0.9.0</code> connection via the <code>fetchai/contract_api:0.8.0</code> protocol. This protocol implements a request-response pattern to serve the four types of methods listed above:</p>
<ul>
<li>the <code>get_deploy_transaction</code> message is used to request a deploy transaction for a specific contract. For instance, to request a deploy transaction for the deployment of the smart contract wrapped in the <code>fetchai/erc1155:0.12.0</code> package, we send the following message to the <code>fetchai/ledger:0.9.0</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">contract_api_msg</span> <span class="o">=</span> <span class="n">ContractApiMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">GET_DEPLOY_TRANSACTION</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">contract_api_dialogues</span><span class="o">.</span><span class="n">new_self_initiated_dialogue_reference</span><span class="p">(),</span>
    <span class="n">ledger_id</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">ledger_id</span><span class="p">,</span>
    <span class="n">contract_id</span><span class="o">=</span><span class="s2">&quot;fetchai/erc1155:0.12.0&quot;</span><span class="p">,</span>
    <span class="n">callable</span><span class="o">=</span><span class="s2">&quot;get_deploy_transaction&quot;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Kwargs</span><span class="p">(</span>
        <span class="p">{</span><span class="s2">&quot;deployer_address&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">agent_address</span><span class="p">}</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<p>Any additional arguments needed by the contract's constructor method should be added to <code>kwargs</code>.</p>
<p>This message will be handled by the <code>fetchai/ledger:0.9.0</code> connection and then a <code>raw_transaction</code> message will be returned with the matching raw transaction. To send this transaction to the ledger for processing, we first sign the message with the decision maker and then send the signed transaction to the <code>fetchai/ledger:0.9.0</code> connection using the <code>fetchai/ledger_api:0.7.0</code> protocol. For details on how to implement the message handling, see the handlers in the <code>erc1155_deploy</code> skill.</p>
<ul>
<li>the <code>get_raw_transaction</code> message is used to request any transaction for a specific contract which changes state in the contract. For instance, to request a transaction for the creation of token in the deployed <code>erc1155</code> smart contract wrapped in the <code>fetchai/erc1155:0.12.0</code> package, we send the following message to the <code>fetchai/ledger:0.9.0</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">contract_api_msg</span> <span class="o">=</span> <span class="n">ContractApiMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">GET_RAW_TRANSACTION</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">contract_api_dialogues</span><span class="o">.</span><span class="n">new_self_initiated_dialogue_reference</span><span class="p">(),</span>
    <span class="n">ledger_id</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">ledger_id</span><span class="p">,</span>
    <span class="n">contract_id</span><span class="o">=</span><span class="s2">&quot;fetchai/erc1155:0.12.0&quot;</span><span class="p">,</span>
    <span class="n">contract_address</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">contract_address</span><span class="p">,</span>
    <span class="n">callable</span><span class="o">=</span><span class="s2">&quot;get_create_batch_transaction&quot;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Kwargs</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;deployer_address&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">agent_address</span><span class="p">,</span>
            <span class="s2">&quot;token_ids&quot;</span><span class="p">:</span> <span class="n">strategy</span><span class="o">.</span><span class="n">token_ids</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<p>This message will be handled by the <code>fetchai/ledger:0.9.0</code> connection and then a <code>raw_transaction</code> message will be returned with the matching raw transaction. For this to be executed correctly, the <code>fetchai/erc1155:0.12.0</code> contract package needs to implement the <code>get_create_batch_transaction</code> method with the specified key word arguments (see example in <em>Deploy your own</em>, below). Similarly to above, to send this transaction to the ledger for processing, we first sign the message with the decision maker and then send the signed transaction to the <code>fetchai/ledger:0.9.0</code> connection using the <code>fetchai/ledger_api:0.7.0</code> protocol.</p>
<ul>
<li>the <code>get_raw_message</code> message is used to request any contract method call for a specific contract which does not change state in the contract. For instance, to request a call to get a hash from some input data in the deployed <code>erc1155</code> smart contract wrapped in the <code>fetchai/erc1155:0.12.0</code> package, we send the following message to the <code>fetchai/ledger:0.9.0</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">contract_api_msg</span> <span class="o">=</span> <span class="n">ContractApiMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">GET_RAW_MESSAGE</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">contract_api_dialogues</span><span class="o">.</span><span class="n">new_self_initiated_dialogue_reference</span><span class="p">(),</span>
    <span class="n">ledger_id</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">ledger_id</span><span class="p">,</span>
    <span class="n">contract_id</span><span class="o">=</span><span class="s2">&quot;fetchai/erc1155:0.12.0&quot;</span><span class="p">,</span>
    <span class="n">contract_address</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">contract_address</span><span class="p">,</span>
    <span class="n">callable</span><span class="o">=</span><span class="s2">&quot;get_hash_single&quot;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Kwargs</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;from_address&quot;</span><span class="p">:</span> <span class="n">from_address</span><span class="p">,</span>
            <span class="s2">&quot;to_address&quot;</span><span class="p">:</span> <span class="n">to_address</span><span class="p">,</span>
            <span class="s2">&quot;token_id&quot;</span><span class="p">:</span> <span class="n">token_id</span><span class="p">,</span>
            <span class="s2">&quot;from_supply&quot;</span><span class="p">:</span> <span class="n">from_supply</span><span class="p">,</span>
            <span class="s2">&quot;to_supply&quot;</span><span class="p">:</span> <span class="n">to_supply</span><span class="p">,</span>
            <span class="s2">&quot;value&quot;</span><span class="p">:</span> <span class="n">value</span><span class="p">,</span>
            <span class="s2">&quot;trade_nonce&quot;</span><span class="p">:</span> <span class="n">trade_nonce</span><span class="p">,</span>
        <span class="p">}</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<p>This message will be handled by the <code>fetchai/ledger:0.9.0</code> connection and then a <code>raw_message</code> message will be returned with the matching raw message. For this to be executed correctly, the <code>fetchai/erc1155:0.12.0</code> contract package needs to implement the <code>get_hash_single</code> method with the specified key word arguments. We can then send the raw message to the <code>fetchai/ledger:0.9.0</code> connection using the <code>fetchai/ledger_api:0.7.0</code> protocol. In this case, signing is not required.</p>
<ul>
<li>the <code>get_state</code> message is used to request any contract method call to query state in the deployed contract. For instance, to request a call to get the balances in the deployed <code>erc1155</code> smart contract wrapped in the <code>fetchai/erc1155:0.12.0</code> package, we send the following message to the <code>fetchai/ledger:0.9.0</code>:</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="n">contract_api_msg</span> <span class="o">=</span> <span class="n">ContractApiMessage</span><span class="p">(</span>
    <span class="n">performative</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Performative</span><span class="o">.</span><span class="n">GET_STATE</span><span class="p">,</span>
    <span class="n">dialogue_reference</span><span class="o">=</span><span class="n">contract_api_dialogues</span><span class="o">.</span><span class="n">new_self_initiated_dialogue_reference</span><span class="p">(),</span>
    <span class="n">ledger_id</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">ledger_id</span><span class="p">,</span>
    <span class="n">contract_id</span><span class="o">=</span><span class="s2">&quot;fetchai/erc1155:0.12.0&quot;</span><span class="p">,</span>
    <span class="n">contract_address</span><span class="o">=</span><span class="n">strategy</span><span class="o">.</span><span class="n">contract_address</span><span class="p">,</span>
    <span class="n">callable</span><span class="o">=</span><span class="s2">&quot;get_balance&quot;</span><span class="p">,</span>
    <span class="n">kwargs</span><span class="o">=</span><span class="n">ContractApiMessage</span><span class="o">.</span><span class="n">Kwargs</span><span class="p">(</span>
        <span class="p">{</span><span class="s2">&quot;agent_address&quot;</span><span class="p">:</span> <span class="n">address</span><span class="p">,</span> <span class="s2">&quot;token_id&quot;</span><span class="p">:</span> <span class="n">token_id</span><span class="p">}</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div>

<p>This message will be handled by the <code>fetchai/ledger:0.9.0</code> connection and then a <code>state</code> message will be returned with the matching state. For this to be executed correctly, the <code>fetchai/erc1155:0.12.0</code> contract package needs to implement the <code>get_balance</code> method with the specified key word arguments. We can then send the raw message to the <code>fetchai/ledger:0.9.0</code> connection using the <code>fetchai/ledger_api:0.7.0</code> protocol. In this case, signing is not required.</p>
<h2 id="developing-your-own">Developing your own</h2>
<p>The easiest way to get started developing your own contract is by using the <a href="../scaffolding">scaffold</a> command:</p>
<div class="highlight"><pre><span></span><code>aea scaffold contract my_new_contract
</code></pre></div>

<p>This will scaffold a contract package called <code>my_new_contract</code> with three files:</p>
<ul>
<li><code>__init__.py</code> </li>
<li><code>contract.py</code>, containing the scaffolded contract class</li>
<li><code>contract.yaml</code> containing the scaffolded configuration file</li>
</ul>
<p>Once your scaffold is in place, you can create a <code>build</code> folder in the package and copy the smart contract interface (e.g. bytes code and ABI) to it. Then, specify the path to the interfaces in the <code>contract.yaml</code>. For instance, if you use Ethereum, then you might specify the following:</p>
<div class="highlight"><pre><span></span><code><span class="nt">contract_interface_paths</span><span class="p">:</span>
    <span class="nt">ethereum</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">build/my_contract.json</span>
</code></pre></div>

<p>where <code>ethereum</code> is the ledger id and <code>my_contract.json</code> is the file containing the byte code and ABI.</p>
<p>Finally, you will want to implement the part of the contract interface you need in <code>contract.py</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">aea.contracts.base</span> <span class="kn">import</span> <span class="n">Contract</span>
<span class="kn">from</span> <span class="nn">aea.crypto.base</span> <span class="kn">import</span> <span class="n">LedgerApi</span>


<span class="k">class</span> <span class="nc">MyContract</span><span class="p">(</span><span class="n">Contract</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;The MyContract contract class which acts as a bridge between AEA framework and ERC1155 ABI.&quot;&quot;&quot;</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">get_create_batch_transaction</span><span class="p">(</span>
        <span class="bp">cls</span><span class="p">,</span>
        <span class="n">ledger_api</span><span class="p">:</span> <span class="n">LedgerApi</span><span class="p">,</span>
        <span class="n">contract_address</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">deployer_address</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">token_ids</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bytes</span><span class="p">]</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
        <span class="n">gas</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">300000</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the transaction to create a batch of tokens.</span>

<span class="sd">        :param ledger_api: the ledger API</span>
<span class="sd">        :param contract_address: the address of the contract</span>
<span class="sd">        :param deployer_address: the address of the deployer</span>
<span class="sd">        :param token_ids: the list of token ids for creation</span>
<span class="sd">        :param data: the data to include in the transaction</span>
<span class="sd">        :param gas: the gas to be used</span>
<span class="sd">        :return: the transaction object</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># create the transaction dict</span>
        <span class="n">nonce</span> <span class="o">=</span> <span class="n">ledger_api</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">eth</span><span class="o">.</span><span class="n">getTransactionCount</span><span class="p">(</span><span class="n">deployer_address</span><span class="p">)</span>
        <span class="n">instance</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">get_instance</span><span class="p">(</span><span class="n">ledger_api</span><span class="p">,</span> <span class="n">contract_address</span><span class="p">)</span>
        <span class="n">tx</span> <span class="o">=</span> <span class="n">instance</span><span class="o">.</span><span class="n">functions</span><span class="o">.</span><span class="n">createBatch</span><span class="p">(</span>
            <span class="n">deployer_address</span><span class="p">,</span> <span class="n">token_ids</span>
        <span class="p">)</span><span class="o">.</span><span class="n">buildTransaction</span><span class="p">(</span>
            <span class="p">{</span>
                <span class="s2">&quot;gas&quot;</span><span class="p">:</span> <span class="n">gas</span><span class="p">,</span>
                <span class="s2">&quot;gasPrice&quot;</span><span class="p">:</span> <span class="n">ledger_api</span><span class="o">.</span><span class="n">api</span><span class="o">.</span><span class="n">toWei</span><span class="p">(</span><span class="s2">&quot;50&quot;</span><span class="p">,</span> <span class="s2">&quot;gwei&quot;</span><span class="p">),</span>
                <span class="s2">&quot;nonce&quot;</span><span class="p">:</span> <span class="n">nonce</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">)</span>
        <span class="n">tx</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_try_estimate_gas</span><span class="p">(</span><span class="n">ledger_api</span><span class="p">,</span> <span class="n">tx</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tx</span>
</code></pre></div>

<p>Above, we implement a method to create a transaction, in this case a transaction to create a batch of tokens. The method will be called by the framework, specifically the <code>fetchai/ledger:0.9.0</code> connection once it receives a message (see bullet point 2 above). The method first gets the latest transaction nonce of the <code>deployer_address</code>, then constracts the contract instance, then uses the instance to build the transaction and finally updates the gas on the transaction.</p>
<p>It helps to look at existing contract packages, like <code>fetchai/erc1155:0.12.0</code>, and skills using them, like <code>fetchai/erc1155_client:0.11.0</code> and <code>fetchai/erc1155_deploy:0.17.0</code>, for inspiration and guidance.</p>


                                </section>

                            </div> <!-- .page-inner end -->

                            <div class="bottomnav">
                                
                                <a href="../skill/" class="button left"><strong>Previous:</strong></br>Skills</a>
                                
                                <a href="../decision-maker/" class="button right"><strong>Next:</strong></br>Decision Maker</a>
                            </div><!-- .bottomnav end -->

                        </div> <!-- .page-wrapper end -->

                    </div> <!-- .body-inner end -->
                </div> <!-- .book-body end -->

            </div><!-- .book end -->
        </div><!-- #content-wrap -->

        <footer>
            <div class="corset">
                <div class="col-1">
                    <div class="social">
                        <a href="https://t.me/fetch_ai" target="_blank"><i class="fab fa-telegram-plane" aria-hidden="true"></i></a>
                        <a href="https://twitter.com/fetch_ai?lang=en" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                        <a href="https://www.linkedin.com/company/fetch-ai/" target="_blank"><i class="fab fa-linkedin" aria-hidden="true"></i></a>
                        <a href="https://www.youtube.com/c/FetchAI" target="_blank"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                        <a href="https://medium.com/fetch-ai" target="_blank"><i class="fab fa-medium-m" aria-hidden="true"></i></a>
                        <a href="https://github.com/fetchai" target="_blank"><i class="fab fa-github" aria-hidden="true"></i></a>
                    </div>
                </div>
                <div class="col-2">Copyright © <a href="https://fetch.ai">Fetch.ai</a> <span class="year">2019</span></div>
            </div>
        </footer>
    </div><!-- end #page-container -->

    <link rel="stylesheet" id="font-awesome-css" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" type="text/css" media="all">
    <script src="../../js/main.js"></script>
    <script src="../../js/menu.js"></script>
    <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
    <script src="../../search/main.js"></script>
</body>

</html>