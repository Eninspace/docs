<!DOCTYPE html>
<html lang="en" class=''>

<head>
    <meta charset="utf-8">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Performance benchmark - Fetch.ai Developer Documentation</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <meta name="description" content="Everything you need to know about Fetch.ai.">
    <meta name="generator" content="mkdocs-1.0.4, mkdocs-">
    
    <meta name="author" content="developer@fetch.ai">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <link rel="shortcut icon" href="../../images/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <meta name="HandheldFriendly" content="true" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta rel="next" href="" />
    <script type="text/javascript" src="//code.jquery.com/jquery-1.9.1.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>var base_url = '../..';</script>
    <link href="../../css/style.min.css" rel="stylesheet">
    <link href="../../css/my-styles.css" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <script src="https://kit.fontawesome.com/392c70381a.js" crossorigin="anonymous" SameSite="None" Secure></script>
</head>

<body>
    <div id="page-container">
        <div id="content-wrap">

            <div id="mkdocs-search-wrapper">
                <div class="search-results-container">
                    <header>Search results: <input type="text" id="search-text-copy" />
                        <button id="closeSearchResults">&times;</button>
                    </header>
                    <div id="mkdocs-search-results" class="search-popup">
                        Sorry, page not found.
                    </div><!-- #mkdocs-search-results end -->
                </div><!-- .search-results-container -->
            </div><!-- #mkdocs-search-wrapper end -->

            <header>
                <button id='hamburger'><i class="fas fa-bars"></i><i class="fas fa-times"></i></button>
                <div class="corset">
                    <a href="https://fetch.ai" target="_blank">
                        <img src="../../assets/images/fetchai_logo_align_white.svg" alt="Fetch Logo" class="logo">
                    </a>
                    <nav class="menu">
                        <ul>
                            <li><a href="https://developer.fetch.ai/Bounty">Bounty</a></li>
                            <li><a href="https://explore.fetch.ai">Explorer</a></li>
                            <li><a href="https://build.fetch.ai">Playground</a></li>
                            <li><a href="https://testnet-wallet.fetch.ai/">Testnet wallet</a></li>
                            <li><a href="https://join.slack.com/t/fetch-ai/shared_invite/enQtNDI2MDYwMjE3OTQwLWY0ZjAyYjM0NGQzNWRhNDMxMzdjYmVhYTE3NDNhNTAyMTE0YWRkY2VmOWRmMGQ3ODM1N2NjOWUwNDExM2U3YjY">Support</a></li>
                        </ul>
                    </nav>
                </div><!-- .corset -->
            </header>
            <div class="book">
                <div id="book-search-input" role="search">
                    <form action="search.html" id="searchForm">
                        <input name="q" id="mkdocs-search-query" type="text" placeholder="Type to search">
                    </form>
                </div> <!-- #book-search-input end -->

                <div class="book-summary not-loaded">
                    <div>

                        <nav role="navigation" id="nav">
    <ul class="summary" id="summary"> 
<li>
    <a href="/" id="-"
        >Home</a
    >
</li>
 
<li>
    <span class="head">Agent Framework</span>
    <ul id="header_agent_framework"> 
<li>
    <a href="../" id="aea-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../version/" id="aea-version-"
        >Version</a
    >
</li>
 
<li>
    <span class="head">Concepts</span>
    <ul id="header_concepts"> 
<li>
    <a href="../language-agnostic-definition/" id="aea-language-agnostic-definition-"
        >Language Agnostic Definition</a
    >
</li>
 
<li>
    <a href="../agent-oriented-development/" id="aea-agent-oriented-development-"
        >Agent-oriented development</a
    >
</li>
 
<li>
    <a href="../vision/" id="aea-vision-"
        >Vision</a
    >
</li>
 
<li>
    <a href="../app-areas/" id="aea-app-areas-"
        >Application areas</a
    >
</li>
 
<li>
    <a href="../oef-ledger/" id="aea-oef-ledger-"
        >Relation to OEF and Ledger</a
    >
</li>
 
<li>
    <a href="../identity/" id="aea-identity-"
        >Identity</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Demos</span>
    <ul id="header_demos"> 
<li>
    <a href="../aries-cloud-agent-demo/" id="aea-aries-cloud-agent-demo-"
        >Aries Cloud Agents Demo</a
    >
</li>
 
<li>
    <a href="../car-park-skills/" id="aea-car-park-skills-"
        >Car park skills</a
    >
</li>
 
<li>
    <a href="../gym-example/" id="aea-gym-example-"
        >Gym example</a
    >
</li>
 
<li>
    <a href="../gym-skill/" id="aea-gym-skill-"
        >Gym skill</a
    >
</li>
 
<li>
    <a href="../ml-skills/" id="aea-ml-skills-"
        >ML skills</a
    >
</li>
 
<li>
    <a href="../tac-skills/" id="aea-tac-skills-"
        >TAC skills</a
    >
</li>
 
<li>
    <a href="../tac-skills-contract/" id="aea-tac-skills-contract-"
        >TAC skills ledger-based</a
    >
</li>
 
<li>
    <a href="../tac/" id="aea-tac-"
        >TAC external app</a
    >
</li>
 
<li>
    <a href="../thermometer-skills/" id="aea-thermometer-skills-"
        >Thermometer skills</a
    >
</li>
 
<li>
    <a href="../weather-skills/" id="aea-weather-skills-"
        >Weather skills</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Development</span>
    <ul id="header_development"> 
<li>
    <span class="head">Getting started</span>
    <ul id="header_getting_started"> 
<li>
    <a href="../quickstart/" id="aea-quickstart-"
        >AEA quick start</a
    >
</li>
 
<li>
    <a href="../core-components-1/" id="aea-core-components-1-"
        >Core components - Part 1</a
    >
</li>
 
<li>
    <a href="../aea-vs-mvc/" id="aea-aea-vs-mvc-"
        >AEA and web frameworks</a
    >
</li>
 
<li>
    <a href="../skill-guide/" id="aea-skill-guide-"
        >Build a skill for an AEA</a
    >
</li>
 
<li>
    <a href="../core-components-2/" id="aea-core-components-2-"
        >Core components - Part 2</a
    >
</li>
 
<li>
    <a href="../thermometer-skills-step-by-step/" id="aea-thermometer-skills-step-by-step-"
        >Trade between two AEAs</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Topic guides</span>
    <ul id="header_topic_guides"> 
<li>
    <a href="../step-one/" id="aea-step-one-"
        >Ways to build an AEA</a
    >
</li>
 
<li>
    <a href="../build-aea-step-by-step/" id="aea-build-aea-step-by-step-"
        >Build an AEA with the CLI</a
    >
</li>
 
<li>
    <a href="../scaffolding/" id="aea-scaffolding-"
        >Scaffolding packages</a
    >
</li>
 
<li>
    <a href="../protocol-generator/" id="aea-protocol-generator-"
        >Generating protocols</a
    >
</li>
 
<li>
    <a href="../logging/" id="aea-logging-"
        >Logging</a
    >
</li>
 
<li>
    <a href="../multiplexer-standalone/" id="aea-multiplexer-standalone-"
        >Use multiplexer stand-alone</a
    >
</li>
 
<li>
    <a href="../standalone-transaction/" id="aea-standalone-transaction-"
        >Create stand-alone transaction</a
    >
</li>
 
<li>
    <a href="../decision-maker-transaction/" id="aea-decision-maker-transaction-"
        >Create decision-maker transaction</a
    >
</li>
 
<li>
    <a href="../deployment/" id="aea-deployment-"
        >Deployment</a
    >
</li>
 
<li>
    <a href="../known-limits/" id="aea-known-limits-"
        >Known limitations</a
    >
</li>
 
<li>
    <a href="../build-aea-programmatically/" id="aea-build-aea-programmatically-"
        >Build an AEA programmatically</a
    >
</li>
 
<li>
    <a href="../cli-vs-programmatic-aeas/" id="aea-cli-vs-programmatic-aeas-"
        >CLI vs programmatic AEAs</a
    >
</li>
 
<li>
    <a href="../agent-vs-aea/" id="aea-agent-vs-aea-"
        >AEAs vs agents</a
    >
</li>
 
<li>
    <a href="../upgrading/" id="aea-upgrading-"
        >Upgrading versions</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Use case components</span>
    <ul id="header_use_case_components"> 
<li>
    <a href="../generic-skills/" id="aea-generic-skills-"
        >Generic skills</a
    >
</li>
 
<li>
    <a href="../connect-a-frontend/" id="aea-connect-a-frontend-"
        >Front-end intergration</a
    >
</li>
 
<li>
    <a href="../http-connection-and-skill/" id="aea-http-connection-and-skill-"
        >HTTP Connection</a
    >
</li>
 
<li>
    <a href="../orm-integration/" id="aea-orm-integration-"
        >ORM integration</a
    >
</li>
 
<li>
    <a href="../erc1155-skills/" id="aea-erc1155-skills-"
        >Contract deploy and interact</a
    >
</li>
 
<li>
    <a href="../p2p-connection/" id="aea-p2p-connection-"
        >P2P Connection</a
    >
</li>
 
<li>
    <a href="../raspberry-set-up/" id="aea-raspberry-set-up-"
        >Build an AEA on a Raspberry Pi</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Architecture & component deep-dives</span>
    <ul id="header_architecture_%26_component_deep-dives"> 
<li>
    <a href="../design-principles/" id="aea-design-principles-"
        >Design principles</a
    >
</li>
 
<li>
    <a href="../diagram/" id="aea-diagram-"
        >Architectural diagram</a
    >
</li>
 
<li>
    <a href="../connection/" id="aea-connection-"
        >Connections</a
    >
</li>
 
<li>
    <a href="../protocol/" id="aea-protocol-"
        >Protocols</a
    >
</li>
 
<li>
    <a href="../skill/" id="aea-skill-"
        >Skills</a
    >
</li>
 
<li>
    <a href="../contract/" id="aea-contract-"
        >Contracts</a
    >
</li>
 
<li>
    <a href="../decision-maker/" id="aea-decision-maker-"
        >Decision Maker</a
    >
</li>
 
<li>
    <a href="../ledger-integration/" id="aea-ledger-integration-"
        >Ledger & Crypto APIs</a
    >
</li>
 
<li>
    <a href="../config/" id="aea-config-"
        >Configurations</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Search & Discovery</span>
    <ul id="header_search_%26_discovery"> 
<li>
    <a href="../defining-data-models/" id="aea-defining-data-models-"
        >Defining Data Models</a
    >
</li>
 
<li>
    <a href="../query-language/" id="aea-query-language-"
        >The Query Language</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Developer Interfaces</span>
    <ul id="header_developer_interfaces"> 
<li>
    <span class="head">CLI</span>
    <ul id="header_cli"> 
<li>
    <a href="../cli-how-to/" id="aea-cli-how-to-"
        >Installation</a
    >
</li>
 
<li>
    <a href="../cli-commands/" id="aea-cli-commands-"
        >Commands</a
    >
</li>
 
<li>
    <a href="../package-imports/" id="aea-package-imports-"
        >File structure</a
    >
</li>
 
<li>
    <a href="../wealth/" id="aea-wealth-"
        >Generating wealth</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../cli-gui/" id="aea-cli-gui-"
        >GUI</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Benchmarks</span>
    <ul id="header_benchmarks"> 
<li>
    <a href="./" id="aea-performance-benchmark-"
        >Performance benchmark</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">API</span>
    <ul id="header_api"> 
<li>
    <a href="../api/aea/" id="aea-api-aea-"
        >AEA</a
    >
</li>
 
<li>
    <a href="../api/aea_builder/" id="aea-api-aea_builder-"
        >AEA Builder</a
    >
</li>
 
<li>
    <a href="../api/agent/" id="aea-api-agent-"
        >Agent</a
    >
</li>
 
<li>
    <a href="../api/agent_loop/" id="aea-api-agent_loop-"
        >Agent Loop</a
    >
</li>
 
<li>
    <a href="../api/launcher/" id="aea-api-launcher-"
        >Launcher</a
    >
</li>
 
<li>
    <a href="../api/multiplexer/" id="aea-api-multiplexer-"
        >Multiplexer</a
    >
</li>
 
<li>
    <a href="../api/runner/" id="aea-api-runner-"
        >Runner</a
    >
</li>
 
<li>
    <a href="../api/runtime/" id="aea-api-runtime-"
        >Runtime</a
    >
</li>
 
<li>
    <span class="head">Components</span>
    <ul id="header_components"> 
<li>
    <a href="../api/components/base/" id="aea-api-components-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/components/loader/" id="aea-api-components-loader-"
        >Loader</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Configurations</span>
    <ul id="header_configurations"> 
<li>
    <a href="../api/configurations/base/" id="aea-api-configurations-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/configurations/components/" id="aea-api-configurations-components-"
        >Components</a
    >
</li>
 
<li>
    <a href="../api/configurations/constants/" id="aea-api-configurations-constants-"
        >Constants</a
    >
</li>
 
<li>
    <a href="../api/configurations/loader/" id="aea-api-configurations-loader-"
        >Loader</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Connections</span>
    <ul id="header_connections"> 
<li>
    <a href="../api/connections/base/" id="aea-api-connections-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/connections/stub/connection/" id="aea-api-connections-stub-connection-"
        >Stub Connection</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/context/base/" id="aea-api-context-base-"
        >Context</a
    >
</li>
 
<li>
    <span class="head">Contracts</span>
    <ul id="header_contracts"> 
<li>
    <a href="../api/contracts/base/" id="aea-api-contracts-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/contracts/ethereum/" id="aea-api-contracts-ethereum-"
        >Ethereum</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Crypto</span>
    <ul id="header_crypto"> 
<li>
    <a href="../api/crypto/base/" id="aea-api-crypto-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/crypto/cosmos/" id="aea-api-crypto-cosmos-"
        >Cosmos</a
    >
</li>
 
<li>
    <a href="../api/crypto/ethereum/" id="aea-api-crypto-ethereum-"
        >Ethereum</a
    >
</li>
 
<li>
    <a href="../api/crypto/fetchai/" id="aea-api-crypto-fetchai-"
        >Fetchai</a
    >
</li>
 
<li>
    <a href="../api/crypto/helpers/" id="aea-api-crypto-helpers-"
        >Helpers</a
    >
</li>
 
<li>
    <a href="../api/crypto/ledger_apis/" id="aea-api-crypto-ledger_apis-"
        >LedgerApis</a
    >
</li>
 
<li>
    <a href="../api/crypto/registry/" id="aea-api-crypto-registry-"
        >Registry</a
    >
</li>
 
<li>
    <a href="../api/crypto/wallet/" id="aea-api-crypto-wallet-"
        >Wallet</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Decision Maker</span>
    <ul id="header_decision_maker"> 
<li>
    <a href="../api/decision_maker/base/" id="aea-api-decision_maker-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/decision_maker/default/" id="aea-api-decision_maker-default-"
        >Default</a
    >
</li>
 
<li>
    <span class="head">Messages</span>
    <ul id="header_messages"> 
<li>
    <a href="../api/decision_maker/messages/base/" id="aea-api-decision_maker-messages-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/decision_maker/messages/state_update/" id="aea-api-decision_maker-messages-state_update-"
        >State Update</a
    >
</li>
 
<li>
    <a href="../api/decision_maker/messages/transaction/" id="aea-api-decision_maker-messages-transaction-"
        >Transaction</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Helpers</span>
    <ul id="header_helpers"> 
<li>
    <a href="../api/helpers/async_friendly_queue/" id="aea-api-helpers-async_friendly_queue-"
        >Async Friendly Queue</a
    >
</li>
 
<li>
    <a href="../api/helpers/async_utils/" id="aea-api-helpers-async_utils-"
        >Async Utils</a
    >
</li>
 
<li>
    <a href="../api/helpers/base/" id="aea-api-helpers-base-"
        >Base</a
    >
</li>
 
<li>
    <span class="head">Dialogue</span>
    <ul id="header_dialogue"> 
<li>
    <a href="../api/helpers/dialogue/base/" id="aea-api-helpers-dialogue-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/exception_policy/" id="aea-api-helpers-exception_policy-"
        >Exception Policy</a
    >
</li>
 
<li>
    <a href="../api/helpers/exec_timeout/" id="aea-api-helpers-exec_timeout-"
        >Exec Timeout</a
    >
</li>
 
<li>
    <span class="head">IPFS</span>
    <ul id="header_ipfs"> 
<li>
    <a href="../api/helpers/ipfs/base/" id="aea-api-helpers-ipfs-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Preferences</span>
    <ul id="header_preferences"> 
<li>
    <a href="../api/helpers/preference_representations/base/" id="aea-api-helpers-preference_representations-base-"
        >Base</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Search</span>
    <ul id="header_search"> 
<li>
    <a href="../api/helpers/search/generic/" id="aea-api-helpers-search-generic-"
        >Generic</a
    >
</li>
 
<li>
    <a href="../api/helpers/search/models/" id="aea-api-helpers-search-models-"
        >Models</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/helpers/test_cases/" id="aea-api-helpers-test_cases-"
        >Test Cases</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/identity/base/" id="aea-api-identity-base-"
        >Identity</a
    >
</li>
 
<li>
    <a href="../api/mail/base/" id="aea-api-mail-base-"
        >Mail</a
    >
</li>
 
<li>
    <span class="head">Protocols</span>
    <ul id="header_protocols"> 
<li>
    <a href="../api/protocols/base/" id="aea-api-protocols-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/protocols/generator/" id="aea-api-protocols-generator-"
        >Generator</a
    >
</li>
 
<li>
    <span class="head">Default Protocol</span>
    <ul id="header_default_protocol"> 
<li>
    <a href="../api/protocols/default/custom_types/" id="aea-api-protocols-default-custom_types-"
        >Custom Types</a
    >
</li>
 
<li>
    <a href="../api/protocols/default/message/" id="aea-api-protocols-default-message-"
        >Message</a
    >
</li>
 
<li>
    <a href="../api/protocols/default/serialization/" id="aea-api-protocols-default-serialization-"
        >Serialization</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Registries</span>
    <ul id="header_registries"> 
<li>
    <a href="../api/registries/base/" id="aea-api-registries-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/registries/filter/" id="aea-api-registries-filter-"
        >Filter</a
    >
</li>
 
<li>
    <a href="../api/registries/resources/" id="aea-api-registries-resources-"
        >Resources</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Skills</span>
    <ul id="header_skills"> 
<li>
    <a href="../api/skills/base/" id="aea-api-skills-base-"
        >Base</a
    >
</li>
 
<li>
    <a href="../api/skills/error/handlers/" id="aea-api-skills-error-handlers-"
        >Error Skill</a
    >
</li>
 
<li>
    <a href="../api/skills/behaviours/" id="aea-api-skills-behaviours-"
        >Behaviors</a
    >
</li>
 
<li>
    <a href="../api/skills/tasks/" id="aea-api-skills-tasks-"
        >Task</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../api/test_tools/generic/" id="aea-api-test_tools-generic-"
        >Test Tools</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../simple-oef/" id="aea-simple-oef-"
        >Simple OEF</a
    >
</li>
 
<li>
    <a href="../questions-and-answers/" id="aea-questions-and-answers-"
        >Q&A</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Ledger</span>
    <ul id="header_ledger"> 
<li>
    <a href="../../ledger/" id="ledger-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Using the ledger</span>
    <ul id="header_using_the_ledger"> 
<li>
    <a href="../../ledger/walkthrough/" id="ledger-walkthrough-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger/walkthrough/creating-addresses/" id="ledger-walkthrough-creating-addresses-"
        >Creating addresses</a
    >
</li>
 
<li>
    <a href="../../ledger/walkthrough/testnet-tokens/" id="ledger-walkthrough-testnet-tokens-"
        >Getting testnet tokens</a
    >
</li>
 
<li>
    <a href="../../ledger/walkthrough/transfers-and-balances/" id="ledger-walkthrough-transfers-and-balances-"
        >Making transfers</a
    >
</li>
 
<li>
    <a href="../../ledger/walkthrough/smart-contracts/" id="ledger-walkthrough-smart-contracts-"
        >Deploying smart contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Smart Contracts</span>
    <ul id="header_smart_contracts"> 
<li>
    <a href="../../ledger/smart-contracts/smart-contract-intro/" id="ledger-smart-contracts-smart-contract-intro-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger/smart-contracts/static-dynamic/" id="ledger-smart-contracts-static-dynamic-"
        >Static and dynamic contracts</a
    >
</li>
 
<li>
    <span class="head">Fetch.ai smart contracts</span>
    <ul id="header_fetch.ai_smart_contracts"> 
<li>
    <a href="../../ledger/smart-contracts/etch-smart-contracts/" id="ledger-smart-contracts-etch-smart-contracts-"
        >Smart contracts in Etch</a
    >
</li>
 
<li>
    <a href="../../ledger/smart-contracts/pipenv/" id="ledger-smart-contracts-pipenv-"
        >Development environment</a
    >
</li>
 
<li>
    <a href="../../ledger/smart-contracts/executing-smart-contract-code/" id="ledger-smart-contracts-executing-smart-contract-code-"
        >Executing smart contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Synergetic contracts</span>
    <ul id="header_synergetic_contracts"> 
<li>
    <a href="../../ledger/smart-contracts/synergetic/" id="ledger-smart-contracts-synergetic-"
        >Synergetic contracts</a
    >
</li>
 
<li>
    <a href="../../ledger/smart-contracts/executing-synergetic-code/" id="ledger-smart-contracts-executing-synergetic-code-"
        >Executing synergetic contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger/smart-contracts/memory/" id="ledger-smart-contracts-memory-"
        >Memory</a
    >
</li>
 
<li>
    <a href="../../ledger/smart-contracts/fees/" id="ledger-smart-contracts-fees-"
        >Fees</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Machine Learning library</span>
    <ul id="header_machine_learning_library"> 
<li>
    <a href="../../ledger/machine-learning/" id="ledger-machine-learning-"
        >Introduction</a
    >
</li>
 
<li>
    <a href="../../ledger/machine-learning/library-architecture/" id="ledger-machine-learning-library-architecture-"
        >Architecture</a
    >
</li>
 
<li>
    <a href="../../ledger/machine-learning/getting-started/" id="ledger-machine-learning-getting-started-"
        >Getting started</a
    >
</li>
 
<li>
    <a href="../../ledger/machine-learning/smart-contract-example/" id="ledger-machine-learning-smart-contract-example-"
        >AI in smart contracts</a
    >
</li>
 
<li>
    <a href="../../ledger/machine-learning/synergetic-contract-example/" id="ledger-machine-learning-synergetic-contract-example-"
        >AI in synergetic contracts</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger/maths-lib-overview/" id="ledger-maths-lib-overview-"
        >Maths library</a
    >
</li>
 
<li>
    <span class="head">Python API</span>
    <ul id="header_python_api"> 
<li>
    <a href="../../ledger/python-ledger-aea/api/python-api-install.md" id="ledger-python-ledger-aea-api-python-api-install.md"
        >Installation</a
    >
</li>
 
<li>
    <span class="head">Examples</span>
    <ul id="header_examples"> 
<li>
    <a href="../../ledger/python-ledger-aea/api/examples/block-number.md" id="ledger-python-ledger-aea-api-examples-block-number.md"
        >Block Number</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Etch Language</span>
    <ul id="header_etch_language"> 
<li>
    <a href="../../ledger/etch-language/" id="ledger-etch-language-"
        >Introduction</a
    >
</li>
 
<li>
    <span class="head">Usage</span>
    <ul id="header_usage"> 
<li>
    <a href="../../ledger/etch-language/getstarted/" id="ledger-etch-language-getstarted-"
        >Getting started</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/debug/" id="ledger-etch-language-debug-"
        >Debugging</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">The Basics</span>
    <ul id="header_the_basics"> 
<li>
    <a href="../../ledger/etch-language/syntax/" id="ledger-etch-language-syntax-"
        >Syntax</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/variables/" id="ledger-etch-language-variables-"
        >Variables</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/operators/" id="ledger-etch-language-operators-"
        >Operators</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/logic/" id="ledger-etch-language-logic-"
        >Logical operators</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/control-flow/" id="ledger-etch-language-control-flow-"
        >Control flow</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/strings/" id="ledger-etch-language-strings-"
        >Strings</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/arrays/" id="ledger-etch-language-arrays-"
        >Arrays</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/functions/" id="ledger-etch-language-functions-"
        >Functions</a
    >
</li>
 
<li>
    <span class="head">Function Annotations</span>
    <ul id="header_function_annotations"> 
<li>
    <a href="../../ledger/etch-language/sc-annotations/" id="ledger-etch-language-sc-annotations-"
        >Smart contract annotations</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/syn-annotations/" id="ledger-etch-language-syn-annotations-"
        >Synergetic contract annotations</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger/etch-language/error-checking/" id="ledger-etch-language-error-checking-"
        >Error checking</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Fetch Ledger Types</span>
    <ul id="header_fetch_ledger_types"> 
<li>
    <a href="../../ledger/etch-language/persistent-globals/" id="ledger-etch-language-persistent-globals-"
        >Persistent globals</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/states/" id="ledger-etch-language-states-"
        >State</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/sharded-state/" id="ledger-etch-language-sharded-state-"
        >ShardedState</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/addresses/" id="ledger-etch-language-addresses-"
        >Address</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/crypto/" id="ledger-etch-language-crypto-"
        >Cryptographic functions</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/context/" id="ledger-etch-language-context-"
        >Context</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/transaction/" id="ledger-etch-language-transaction-"
        >Transaction</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/balance-transfer/" id="ledger-etch-language-balance-transfer-"
        >Balance and Transfer</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Mathematics</span>
    <ul id="header_mathematics"> 
<li>
    <a href="../../ledger/etch-language/maths-functions/" id="ledger-etch-language-maths-functions-"
        >Maths functions</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/tensor/" id="ledger-etch-language-tensor-"
        >Tensor</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Machine Learning</span>
    <ul id="header_machine_learning"> 
<li>
    <a href="../../ledger/etch-language/model/" id="ledger-etch-language-model-"
        >Model</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/graph/" id="ledger-etch-language-graph-"
        >Graph</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/data-loaders/" id="ledger-etch-language-data-loaders-"
        >DataLoader</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/optimiser/" id="ledger-etch-language-optimiser-"
        >Optimiser</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/scaler/" id="ledger-etch-language-scaler-"
        >Scaler</a
    >
</li>

    </ul>
</li> 
<li>
    <span class="head">Examples</span>
    <ul id="header_examples"> 
<li>
    <a href="../../ledger/etch-language/examples/fetch-logo/" id="ledger-etch-language-examples-fetch-logo-"
        >Fetch logo</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/examples/mandelbrot/" id="ledger-etch-language-examples-mandelbrot-"
        >Mandelbrot</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/examples/searching-algorithms/" id="ledger-etch-language-examples-searching-algorithms-"
        >Searching algorithms</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/examples/sorting-algorithms/" id="ledger-etch-language-examples-sorting-algorithms-"
        >Sorting algorithms</a
    >
</li>
 
<li>
    <a href="../../ledger/etch-language/examples/dft/" id="ledger-etch-language-examples-dft-"
        >Discrete Fourier Transformation</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Deploying nodes</span>
    <ul id="header_deploying_nodes"> 
<li>
    <span class="head">Building the code</span>
    <ul id="header_building_the_code"> 
<li>
    <a href="../../ledger/installation/installation-mac/" id="ledger-installation-installation-mac-"
        >MacOS</a
    >
</li>
 
<li>
    <a href="../../ledger/installation/installation-ubuntu/" id="ledger-installation-installation-ubuntu-"
        >Ubuntu</a
    >
</li>
 
<li>
    <a href="../../ledger/installation/installation-redhat/" id="ledger-installation-installation-redhat-"
        >Redhat</a
    >
</li>

    </ul>
</li> 
<li>
    <a href="../../ledger/running-a-constellation/" id="ledger-running-a-constellation-"
        >Running a node</a
    >
</li>
 
<li>
    <a href="../../ledger/architecture/" id="ledger-architecture-"
        >Architecture</a
    >
</li>

    </ul>
</li>
    </ul>
</li> 
<li>
    <span class="head">Tutorials</span>
    <ul id="header_tutorials"> 
<li>
    <a href="../../tutorials/" id="tutorials-"
        >Index</a
    >
</li>
 
<li>
    <a href="../../tutorials/fet1/" id="tutorials-fet1-"
        >Create FET-1 contract</a
    >
</li>

    </ul>
</li> 
    </ul>
</nav>
                    </div>
                </div> <!-- .book-summary end -->

                <div class="book-body">
                    <div class="body-inner" id="book-body">

                        <div class="page-wrapper" tabindex="-1" role="main">
                            <div class="page-inner" id="book-body-inner">

                                <section class="normal markdown-section p17">

                                    

<p>Test AEA framework performance.</p>
<h2 id="what-is-it">What is it?</h2>
<p>The benchmark module is a set of tools to measure execution time, CPU load and memory usage of the AEA Python code. It produces text reports and draws charts to present the results.</p>
<h2 id="how-does-it-work">How does it work?</h2>
<p>The framework:</p>
<ul>
<li>spawns a dedicated process for each test run to execute the function to test.</li>
<li>measures CPU and RAM usage periodically.</li>
<li>waits for function exits or terminates them by timeout.</li>
<li>repeats test execution multiple times to get more accurate results.</li>
</ul>
<h2 id="how-to-use">How to use</h2>
<p>Steps to run a test:</p>
<ul>
<li>Write a function you would like to test with all arguments you would like to parameterise, add some doc strings.</li>
<li>Split the function into two parts: prepare part and performance part. The prepare part will not be included in the measurement.</li>
<li>Add <code>BenchmarkControl</code> support, to notify framework to start measurement.</li>
<li>Import <code>TestCli</code> class,  TestCli().run(function_to_be_tested)</li>
<li>Call it from console to get text results.</li>
</ul>
<h3 id="simple-example">Simple example</h3>
<p><code>cpuburn</code> - simple test of CPU load depends on idle sleep time. Shows how much CPU consumed during the execution.</p>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">benchmark.framework.benchmark</span> <span class="kn">import</span> <span class="n">BenchmarkControl</span>
<span class="kn">from</span> <span class="nn">benchmark.framework.cli</span> <span class="kn">import</span> <span class="n">TestCli</span>


<span class="k">def</span> <span class="nf">cpu_burn</span><span class="p">(</span><span class="n">benchmark</span><span class="p">:</span> <span class="n">BenchmarkControl</span><span class="p">,</span> <span class="n">run_time</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">sleep</span><span class="o">=</span><span class="mf">0.0001</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Do nothing, just burn cpu to check cpu load changed on sleep.</span>

<span class="sd">    :param benchmark: benchmark special parameter to communicate with executor</span>
<span class="sd">    :param run_time: time limit to run this function</span>
<span class="sd">    :param sleep: time to sleep in loop</span>

<span class="sd">    :return: None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">benchmark</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">sleep</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;=</span> <span class="n">run_time</span><span class="p">:</span>
            <span class="k">break</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">TestCli</span><span class="p">(</span><span class="n">cpu_burn</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>

<p>Run it with <code>python ./benchmark/cases/cpu_burn.py --help</code> to get help about usage.
<div class="highlight"><pre><span></span>Usage: cpu_burn.py <span class="o">[</span>OPTIONS<span class="o">]</span> <span class="o">[</span>ARGS<span class="o">]</span>...

       Do nothing, just burn cpu to check cpu load changed on sleep.

  :param benchmark: benchmark special parameter to communicate with executor
  :param run_time: <span class="nb">time</span> limit to run this <span class="k">function</span> :param sleep: <span class="nb">time</span> to sleep in loop

  :return: None

      ARGS is <span class="k">function</span> arguments in format: <span class="sb">`</span>run_time,sleep<span class="sb">`</span>

      default ARGS is <span class="sb">`</span><span class="m">10</span>,0.0001<span class="sb">`</span>

Options:
  --timeout FLOAT               Executor timeout in seconds  <span class="o">[</span>default: <span class="m">10</span>.0<span class="o">]</span>
  --period FLOAT                Period <span class="k">for</span> measurement  <span class="o">[</span>default: <span class="m">0</span>.1<span class="o">]</span>
  -N, --num-executions INTEGER  Number of runs <span class="k">for</span> each <span class="k">case</span>  <span class="o">[</span>default: <span class="m">1</span><span class="o">]</span>
  -P, --plot INTEGER            X axis parameter idx
  --help                        Show this message and exit.
</pre></div></p>
<p>Run it with <code>python ./benchmark/cases/cpu_burn.py</code> to start with default parameters.
<div class="highlight"><pre><span></span>Test execution timeout: <span class="m">10</span>.0
Test execution measure period: <span class="m">0</span>.1
Tested <span class="k">function</span> name: cpu_burn
Tested <span class="k">function</span> description:
    Do nothing, just burn cpu to check cpu load changed on sleep.

    :param benchmark: benchmark special parameter to communicate with executor
    :param run_time: <span class="nb">time</span> limit to run this <span class="k">function</span>
    :param sleep: <span class="nb">time</span> to sleep in loop

    :return: None

Tested <span class="k">function</span> argument names: <span class="o">[</span><span class="s1">&#39;run_time&#39;</span>, <span class="s1">&#39;sleep&#39;</span><span class="o">]</span>
Tested <span class="k">function</span> argument default values: <span class="o">[</span><span class="m">10</span>, <span class="m">0</span>.0001<span class="o">]</span>

<span class="o">==</span> Report created <span class="m">2020</span>-04-27 <span class="m">15</span>:14:56.076549 <span class="o">==</span>
Arguments are <span class="sb">`</span><span class="o">[</span><span class="m">10</span>, <span class="m">0</span>.0001<span class="o">]</span><span class="sb">`</span>
Number of runs: <span class="m">1</span>
Number of <span class="nb">time</span> terminated: <span class="m">0</span>
Time passed <span class="o">(</span>seconds<span class="o">)</span>: <span class="m">10</span>.031443119049072 ± <span class="m">0</span>
cpu min <span class="o">(</span>%<span class="o">)</span>: <span class="m">0</span>.0 ± <span class="m">0</span>
cpu max <span class="o">(</span>%<span class="o">)</span>: <span class="m">10</span>.0 ± <span class="m">0</span>
cpu mean <span class="o">(</span>%<span class="o">)</span>: <span class="m">3</span>.4 ± <span class="m">0</span>
mem min <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.98828125 ± <span class="m">0</span>
mem max <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.98828125 ± <span class="m">0</span>
mem mean <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.98828125 ± <span class="m">0</span>
</pre></div></p>
<p>Here you can see test report for default arguments set.</p>
<p>Run with multiple arguments set, multiple repeats and draw a chart on resources
<code>python ./benchmark/cases/cpu_burn.py -N 5 -P 1 3,0.00001 3,0.001 3,0.01</code></p>
<p>Report is:
<div class="highlight"><pre><span></span>Test execution timeout: <span class="m">10</span>.0
Test execution measure period: <span class="m">0</span>.1
Tested <span class="k">function</span> name: cpu_burn
Tested <span class="k">function</span> description:
    Do nothing, just burn cpu to check cpu load changed on sleep.

    :param benchmark: benchmark special parameter to communicate with executor
    :param run_time: <span class="nb">time</span> limit to run this <span class="k">function</span>
    :param sleep: <span class="nb">time</span> to sleep in loop

    :return: None

Tested <span class="k">function</span> argument names: <span class="o">[</span><span class="s1">&#39;run_time&#39;</span>, <span class="s1">&#39;sleep&#39;</span><span class="o">]</span>
Tested <span class="k">function</span> argument default values: <span class="o">[</span><span class="m">10</span>, <span class="m">0</span>.0001<span class="o">]</span>

<span class="o">==</span> Report created <span class="m">2020</span>-04-27 <span class="m">15</span>:38:17.849535 <span class="o">==</span>
Arguments are <span class="sb">`</span><span class="o">(</span><span class="m">3</span>, 1e-05<span class="o">)</span><span class="sb">`</span>
Number of runs: <span class="m">5</span>
Number of <span class="nb">time</span> terminated: <span class="m">0</span>
Time passed <span class="o">(</span>seconds<span class="o">)</span>: <span class="m">3</span>.0087939262390138 ± <span class="m">0</span>.0001147521277690166
cpu min <span class="o">(</span>%<span class="o">)</span>: <span class="m">0</span>.0 ± <span class="m">0</span>.0
cpu max <span class="o">(</span>%<span class="o">)</span>: <span class="m">11</span>.0 ± <span class="m">2</span>.23606797749979
cpu mean <span class="o">(</span>%<span class="o">)</span>: <span class="m">6</span>.2 ± <span class="m">0</span>.18257418583505522
mem min <span class="o">(</span>kb<span class="o">)</span>: <span class="m">54</span>.0265625 ± <span class="m">0</span>.11180339887498948
mem max <span class="o">(</span>kb<span class="o">)</span>: <span class="m">54</span>.0265625 ± <span class="m">0</span>.11180339887498948
mem mean <span class="o">(</span>kb<span class="o">)</span>: <span class="m">54</span>.0265625 ± <span class="m">0</span>.11180339887498948
<span class="o">==</span> Report created <span class="m">2020</span>-04-27 <span class="m">15</span>:38:32.947308 <span class="o">==</span>
Arguments are <span class="sb">`</span><span class="o">(</span><span class="m">3</span>, <span class="m">0</span>.001<span class="o">)</span><span class="sb">`</span>
Number of runs: <span class="m">5</span>
Number of <span class="nb">time</span> terminated: <span class="m">0</span>
Time passed <span class="o">(</span>seconds<span class="o">)</span>: <span class="m">3</span>.014109659194946 ± <span class="m">0</span>.0004416575764579524
cpu min <span class="o">(</span>%<span class="o">)</span>: <span class="m">0</span>.0 ± <span class="m">0</span>.0
cpu max <span class="o">(</span>%<span class="o">)</span>: <span class="m">8</span>.0 ± <span class="m">2</span>.7386127875258306
cpu mean <span class="o">(</span>%<span class="o">)</span>: <span class="m">1</span>.9986666666666666 ± <span class="m">0</span>.002981423969999689
mem min <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9890625 ± <span class="m">0</span>.10431954926750306
mem max <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9890625 ± <span class="m">0</span>.10431954926750306
mem mean <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9890625 ± <span class="m">0</span>.10431954926750306
<span class="o">==</span> Report created <span class="m">2020</span>-04-27 <span class="m">15</span>:38:48.067511 <span class="o">==</span>
Arguments are <span class="sb">`</span><span class="o">(</span><span class="m">3</span>, <span class="m">0</span>.01<span class="o">)</span><span class="sb">`</span>
Number of runs: <span class="m">5</span>
Number of <span class="nb">time</span> terminated: <span class="m">0</span>
Time passed <span class="o">(</span>seconds<span class="o">)</span>: <span class="m">3</span>.0181806087493896 ± <span class="m">0</span>.0022409499756841883
cpu min <span class="o">(</span>%<span class="o">)</span>: <span class="m">0</span>.0 ± <span class="m">0</span>.0
cpu max <span class="o">(</span>%<span class="o">)</span>: <span class="m">1</span>.0 ± <span class="m">2</span>.23606797749979
cpu mean <span class="o">(</span>%<span class="o">)</span>: <span class="m">0</span>.06666666666666667 ± <span class="m">0</span>.14907119849998599
mem min <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9078125 ± <span class="m">0</span>.11487297672320501
mem max <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9078125 ± <span class="m">0</span>.11487297672320501
mem mean <span class="o">(</span>kb<span class="o">)</span>: <span class="m">53</span>.9078125 ± <span class="m">0</span>.11487297672320501
</pre></div></p>
<p>Chart is drawn for argument 1: sleep:
<center><img alt="Char over argument 1 - sleep value" src="../assets/benchmark_chart.png" /></center></p>
<p>The most interesting part is CPU usage, as you can see  cPU usage decreases with increasing value of idle sleep.
Memory usage and execution time can slightly differ per case execution.</p>
<h2 id="requirements-for-tested-function">Requirements for tested function</h2>
<ul>
<li>The first function's argument has to be <code>benchmark: BenchmarkControl</code> which is passed by default by the framework.</li>
<li>All arguments except the fist one have to set default values.</li>
<li>Function doc string is required, it used for help information.</li>
<li><code>benchmark.start()</code> has to be called once in the function body to start measurement. The timeout is counted from this point!</li>
<li>All the "prepare part" in the function that should not be measured has to be placed before <code>benchmark.start()</code></li>
<li>Code to be measured has to go after <code>benchmark.start()</code></li>
<li>Try to avoid infinitive loops and assume the test should exit after a while.</li>
</ul>
<h2 id="execution-options">Execution options</h2>
<ul>
<li>To pass an arguments set just provide it as a comma separated string like <code>10,0.1</code></li>
<li>To pass several argument sets just separate them by whitespace <code>10,0.1 20,0.2</code></li>
<li><code>--timeout FLOAT</code> is test execution timeout in seconds. If the test takes more time, it will be terminated.</li>
<li><code>--period FLOAT</code> is measurement interval in seconds, how often to make CPU and RAM usage measurements.</li>
<li><code>-N, --num-executions INTEGER</code> - how many time to run the same argument set to make result more accurate.</li>
<li><code>-P, --plot INTEGER</code> -  Draw a chart using, using values of argument specified as values for axis X. argument positions started with 0, argument benchmark does not counted. for example <code>-P 0</code> will use <code>run_time</code> values, <code>-P 1</code> will use <code>sleep</code> values.</li>
</ul>
<h2 id="limitations">Limitations</h2>
<p>Currently, the benchmark framework does not measure resources consumed by subprocess spawned in python code. So try to keep one process solutions during tests.</p>
<p>Asynchronous functions or coroutines are not supported directly. So you have to set up an event loop inside test function and start loop manually.</p>
<h2 id="testing-aea-handlers-example">Testing AEA: handlers example</h2>
<p>Test react speed on specific messages amount.</p>
<div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">react_speed_in_loop</span><span class="p">(</span><span class="n">benchmark</span><span class="p">:</span> <span class="n">BenchmarkControl</span><span class="p">,</span> <span class="n">inbox_amount</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Test inbox message processing in a loop.</span>

<span class="sd">    :param benchmark: benchmark special parameter to communicate with executor</span>
<span class="sd">    :param inbox_amount: num of inbox messages for every agent</span>

<span class="sd">    :return: None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">skill_definition</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dummy_handler&quot;</span><span class="p">:</span> <span class="n">DummyHandler</span><span class="p">}</span>
    <span class="p">}</span>
    <span class="n">aea_test_wrapper</span> <span class="o">=</span> <span class="n">AEATestWrapper</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dummy agent&quot;</span><span class="p">,</span>
        <span class="n">skills</span><span class="o">=</span><span class="p">[</span><span class="n">skill_definition</span><span class="p">],</span>
    <span class="p">)</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">inbox_amount</span><span class="p">):</span>
        <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">put_inbox</span><span class="p">(</span><span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">dummy_envelope</span><span class="p">())</span>

    <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">set_loop_timeout</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>

    <span class="n">benchmark</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

    <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">start_loop</span><span class="p">()</span>

    <span class="k">while</span> <span class="ow">not</span> <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">is_inbox_empty</span><span class="p">():</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

    <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">stop_loop</span><span class="p">()</span>
</pre></div>

<p>Create AEA wrapper with specified handler:
<div class="highlight"><pre><span></span><span class="n">skill_definition</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;handlers&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dummy_handler&quot;</span><span class="p">:</span> <span class="n">DummyHandler</span><span class="p">}</span>
<span class="p">}</span>
<span class="n">aea_test_wrapper</span> <span class="o">=</span> <span class="n">AEATestWrapper</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;dummy agent&quot;</span><span class="p">,</span>
    <span class="n">skills</span><span class="o">=</span><span class="p">[</span><span class="n">skill_definition</span><span class="p">],</span>
<span class="p">)</span>
</pre></div></p>
<p>Populate inbox with dummy messages:
<div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">inbox_amount</span><span class="p">):</span>
    <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">put_inbox</span><span class="p">(</span><span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">dummy_envelope</span><span class="p">())</span>
</pre></div></p>
<p>Set timeout <code>0</code>, for maximum messages processing speed: <code>aea_test_wrapper.set_loop_timeout(0.0)</code></p>
<p>Start benchmark: <code>benchmark.start()</code></p>
<p>Start/stop AEA:
<div class="highlight"><pre><span></span><span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="o">...</span>
<span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
</pre></div></p>
<p>Wait till messages present in inbox:
<div class="highlight"><pre><span></span><span class="k">while</span> <span class="ow">not</span> <span class="n">aea_test_wrapper</span><span class="o">.</span><span class="n">is_inbox_empty</span><span class="p">():</span>
    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
</pre></div></p>


                                </section>

                            </div> <!-- .page-inner end -->

                            <div class="bottomnav">
                                
                                <a href="../cli-gui/" class="button left"><strong>Previous:</strong></br>Gui</a>
                                
                                <a href="../api/aea/" class="button right"><strong>Next:</strong></br>Aea</a>
                            </div><!-- .bottomnav end -->

                        </div> <!-- .page-wrapper end -->

                    </div> <!-- .body-inner end -->
                </div> <!-- .book-body end -->

            </div><!-- .book end -->
        </div><!-- #content-wrap -->

        <footer>
            <div class="corset">
                <div class="col-1">
                    <div class="social">
                        <a href="https://t.me/fetch_ai" target="_blank"><i class="fab fa-telegram-plane" aria-hidden="true"></i></a>
                        <a href="https://twitter.com/fetch_ai?lang=en" target="_blank"><i class="fab fa-twitter" aria-hidden="true"></i></a>
                        <a href="https://www.linkedin.com/company/fetch-ai/" target="_blank"><i class="fab fa-linkedin" aria-hidden="true"></i></a>
                        <a href="https://www.youtube.com/c/FetchAI" target="_blank"><i class="fab fa-youtube" aria-hidden="true"></i></a>
                        <a href="https://medium.com/fetch-ai" target="_blank"><i class="fab fa-medium-m" aria-hidden="true"></i></a>
                        <a href="https://github.com/fetchai" target="_blank"><i class="fab fa-github" aria-hidden="true"></i></a>
                    </div>
                </div>
                <div class="col-2">Copyright © <a href="https://fetch.ai">Fetch.ai</a> <span class="year">2019</span></div>
            </div>
        </footer>
    </div><!-- end #page-container -->

    <link rel="stylesheet" id="font-awesome-css" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" type="text/css" media="all">
    <script src="../../js/main.js"></script>
    <script src="../../js/menu.js"></script>
    <script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
    <script src="../../search/main.js"></script>
</body>

</html>